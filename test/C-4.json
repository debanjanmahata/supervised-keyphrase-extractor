{"abstract": "`` Best effort '' packet-switched networks , like the Internet , do not offer a reliable transmission of packets to applications with real-time constraints such voice .Thus , the loss of packets impairs the application-level utility .For voice this utility impairment is twofold : on one hand , even short bursts of lost packets may decrease significantly the ability of the receiver to conceal the packet loss and the speech signal out is interrupted .On the other hand , some packets may be particular sensitive to loss as they carry more important information in terms of user perception than other packets .We first develop an end-to-end model based on loss lengths with which we can describe the loss distribution within a These packet-level metrics are then linked to user-level objective speech quality metrics .Using this framework , we find that for low-compressing sample-based codecs PCM with loss concealment isolated packet losses can be concealed well , whereas burst losses have a higher perceptual impact .For high-compressing frame-based codecs G. 729 on one hand the impact of loss is amplified through error propagation caused by the decoder filter memories , though on the other hand such coding schemes help to perform loss concealment by extrapolation of decoder state .Contrary to sample-based codecs we show that the concealment performance may `` break '' at transitions within the speech signal however .We then propose mechanisms which differentiate between packets within a voice data to minimize the impact of packet loss .We designate these methods as loss recovery and control .At the end-to-end level , identification of packets sensitive to loss sender as well as loss concealment receiver takes place .Hop-by-hop support schemes then allow to statistically trade the loss of one packet , which is considered more important , against another one of the same flow which is of lower importance .As bothets require the same cost in terms of network transmission , a gain in user perception is obtainable .We show that significant speech quality improvements can be achieved and additional data and delay overhead can be avoided while still maintaining a network service which is virtually identical to best effort in the long term .", "id": "C-4", "reader_keywords_stem": ["end-to-end model", "sampl-base codec", "loss recoveri and control", "loss sensit", "network support for real-time multimedia", "qualiti of servic", "servic qualiti", "end-to-end loss recoveri", "voip traffic", "intra-flow loss control", "packet-level metric", "gener markov model", "sensit of voip traffic", "voip traffic sensit", "queue manag algorithm", "frame-base codec"], "combined_keywords_stem": ["end-to-end model", "sampl-base codec", "loss recoveri and control", "loss sensit", "network support for real-time multimedia", "qualiti of servic", "servic qualiti", "end-to-end loss recoveri", "voip traffic", "intra-flow loss control", "packet-level metric", "gener markov model", "sensit of voip traffic", "voip traffic sensit", "queue manag algorithm", "frame-base codec", "voic over ip", "loss conceal", "loss metric", "object speech qualiti measur", "queue manag", "differenti servic"], "introduction": "Considering that a real-time may experience some packet loss , the impact of loss may vary significantly dependent on which packets are lost within a flow .In the following we distinguish two reasons for such a variable loss sensitivity : Temporal sensitivity : Loss of which is correlated in time may lead to disruptions in the service .Note that this effect is further aggravated by some interdependence between i.e. , that one ADU can only be decoded when a previous ADU before has successfully been received and decoded .For voice , as a single packet contains typically several voice frames this effect is thus more significant than e.g. for video .It translates basically to isolated packet losses versus losses that occur in bursts .Sensitivity due to ADU heterogeneity : Certain might contain parts of the encoded signal which are ` Application Data Unit : the unit of data emitted by a source coder such as a video or voice frame .the loss of more and less -1 important packets more important with regard to user perception than others of the same flow .Let us consider a flow with two frame types of largely different perceptual importance we same size , frequency and no interdependence between the frames .Under the loss of 50 % of the packets , the perceptual quality varies hugely between the where the 50 % of the frames with high perceptual importance are received and the where the 50 % less important frames received .Network support for real-time multimedia flows can on one hand aim at offering a service , which , however , to be implemented within pa & et-switched network , will be costly for the network provider and thus for the user .On the other hand , within a lossy service , the above sensitivity constraints must be taken into account .It is strong belief that this needs to be done in generic way , i.e. , no application-specific knowledge about particular coding schemes e.g. should be necessary the network and , vice versa , no knowledge about network specifics should be necessary within an application .Let us now consider the case that 50 % of packets of flow identified more important designated by or less important due to any of the above sensitivity constraints .Figure 1 a shows a generic utility function describing the level Quality of Service dependent on the percentage of packets lost .For real-time multimedia traffic , such utility should correspond to perceived video/voice quality .If the relative importance of the packets is not known by the transmission system , the loss rates for the and -1 packets are equal .Due to the over-proportional sensitivity of the packets to loss as well as the dependence of the end loss recovery performance on the packets , the utility function is decreasing significantly in a non-linear way approximated in the figure by piece-wise linear functions with an increasing loss rate .Figure 1 b presents the where all packets are protected at the expense of -1 The decay of the utility function for loss rates < 50 % is reduced , because the packets are protected and the endto-end loss recovery can thus operate properly a wider range of loss rates indicated by the shaded area .This results in a graceful degradation of the application 's utility .Note that the higher the non-linearity of the utility contribution of the packets is deviation from the dotted curve in Fig. 1 a , the higher is the potential gain in utility when the protection for is enabled .Results for actual perceived quality utility for multimedia applications exhibit such non-linear behavior * .To describe this effect and provide a taxonomy for different enhancement approaches , we introduce a novel terminology : we designate mechanisms influence parameters between thus decrease the loss rate of one flow at the expense of other flows as inter-flow Schemes which , in the presence of loss , differentiate between within a flow as demonstrated in Figure 1 above , provide enhancement .As mechanisms have to be implemented within the network hopby-hop and/or in the end systems end-to-end , we have another axis of classification .The adaptation of the sender 's to the current network congestion state an scheme loss avoidance , is difficult to apply to voice .Considering that voice flows have very low the relative cost of transmitting the feedback information is when compared e.g. to a video flow .To reduce this cost the feedback interval would need to be increased , then leading to a higher probability of wrong adaptation decisions .The major however , the lack of a codec is truly scalable in terms of its output and corresponding perceptual quality .Currently standardized voice codecs usually only have a output While it has been proposed to switch between voice the MOS subjective quality for the employed do not e.g. , codecs G. 723.1 , G. 729 , G. 728 , G. 711 range from 5.3 to 64 while the subjective quality differs by less than 0.25 on a l-to-5 MOS scale 1 : bad , 5 : excellent quality .when the availability of computing power is assumed , the lowest codec can be chosen permanently without actually decreasing the perceptual quality .For loss on an end-to-end basis , due to the realtime delay constraints , open-loop schemes like Forward Error Correction FEC have been proposed While attractive because they can be used on the Internet today , they also have several drawbacks .The amount of redundant information needs to be adaptive to avoid taking bandwidth away from other flows .This adaptation is crucial especially when the fraction of using redundancy schemes is large If the redundancy a coding itself , like it has often been proposed the comments from above on adaptation also apply .Using redundancy has also implications to the delay adaptation lo employed to de-jitter the packets at the receiver .Note that the presented types of loss sensitivity also apply to we have obtained results which confirm the shape of the `` overall utility '' curve shown in Fig. 1 , clearly the utility functions of the `` sub '' .flows and their relationship are more complex and only approximately additive .which are enhanced by end-to-end loss recovery mechanisms .End-to-end mechanisms can reduce and shift such sensitivities but can not come close to eliminate them .Therefore in this work we assume that the lowest possible trate which provides the desired quality is chosen .Neither feedback/adaptation nor redundancy is used , however , at the end-to-end level , identification/marking of packets sensitive to loss sender as well as loss concealment receiver takes place .Hop-by-hop support schemes then allow trading the loss of one packet , which is considered more important , against another one of the same flow which is of lower importance .We employ actual and measure their utility in the presence of packet loss using objective speech quality measurement .The paper is structured as follows : Section 2 introduces packet and user-level metrics .We employ these metrics to describe the sensitivity of traffic to packet loss in section 3 .Section 4 briefly introduces a queue management algorithm which can be used for intra-flow loss control .In section 5 , we present results documenting the performance of the proposed mechanisms at both the end-to-end and by-hop level .Section 6 concludes the paper .", "title": "Intra-flow Loss Recovery and Control for", "method": "A general Markov model which describes the loss process is defined as follows : ... , appear inbold typeface whereas when 1 1 the state transition probabilities to that event cover the range of 0.15 to 0.61 .That means that past `` no loss '' events do not affect the loss process as much as past loss events .Intuitively this seems to make sense , because a successfully arriving packet can be seen as a indicator for congestion relief .Andren et .al. as well as Yajnik et .al. both confirmed this by measuring the cross correlation of the loss and lengths .They came to the result that such correlation is very weak .This implies that patterns of short loss bursts interspersed with short periods of successful packet arrivals occur rarely note in this context that in 1 the pattern 101 has by far the lowest state probability .Thus , in the following we employ a model which only considers the past loss events for the state transition probability .The number of states of the model can be reduced from to m + 1 .This means that we only consider the state transition probability k , ... 1 with = 1 0 , where 0 < m is a variable parameter .We define a run length for a sequence of consecutively lost packets detected at > > 0 with 1 = = 0 and + = 1 0 , being the j-th loss event '' .Note that the parameters of the model become independent of the sequence number and can now rather be described by the occurence of a loss run length We define the random variable X as follows : X = 0 : packet lost '' , X = 0 < < m : consecutive packets lost '' , and X 0 < < m : `` at least consecutive packets lost '' .With this definition , we establish a loss run-length model with a finite number of states m 1 which gives loss probabilities dependent on the burst length .In the model , for every additional lost packet which adds to the length of a loss burst a state transition takes place .If a packet is successfully received , the state returns to X = 0 .Thus , the state probability of the system for 0 < < m is Due to the limited memory of the system , the last state X = m is just defined as consecutive packets lost '' , with = m being the state probability .Given the case of a finite number of packets a for a flow , which experiences d = packet drops , we have the relative frequency = = k for a for the occurence of a loss burst of length lc .An approximation for the expectation of the random variable X can be computed as = and identified with the `` mean loss rate '' .We can also approximate the state probabilities of the model by the cumulative loss rate 0 m and = = m .The transition probabilities for 1 < < m can be computed easily as :These conditional loss probabilities again can be approxi m a t e d = Let m , ... 1 be the state transition probability of a general Markov model of order m , where is the loss indicator function for the packet with the sequence number s. All combinations for the values 0 and 1 of the sequence= Fig. 2 shows the chain for the model .Additionally , we also define a random variable Y de scribes the distribution of burst loss lengths with respect to the bunt loss events and not to packet events like in the definition of X .We have the burst loss length rate an estimate for P Y k .Thus , the mean burst loss length is corresponding to E Y average loss gap , The run-length model implies geometric distribution for residing in state X For the probability of a burst loss length of packets we thus can compute estimates for performance parameters in a higher order model representation note that here Y represent the random variable used in the higher-order models .For a three state model we have e.g. for P Y k : For the special case of a system with a memory of only the previous packet m we can use the distribution for a simple computation of the parameters of the commonly-used Gilbert model Fig. 3 to characterize the loss process X being the associated random variable with X 0 : packet lost '' , X 1 packet lost '' .Then the probability of being in state can be seen the loss probability and approximated by the mean loss Only conditional loss probability clp for the transition 1 1 exists :If losses of flow correlated i.e. , the loss probability of an arriving packet is by the contribution to the state of the queue by a previous packet of the same flow and/or both the previous and the current packet see busty arrivals of other traffic , we have and thus For the Gilbert model lent to a l-state model with no loss correlation .As in equation 2 we can compute an estimate for the ability of a burst loss length of packets for a orderUnlike the conventional methods like the tio SNR , novel objective quality measures attempt to estimate the subjective quality closely possible by modeling the auditory system .In evaluation we use two objective quality measures : the Enhanced Bark Spectral Distortion EMBSD , and the Normalizing Blocks MNB described in the Appendix II of the ITU-T Recommendation P. 861 These two objective quality reported to have a very high correlation with subjective tests , their relation to the range of subjective test result values MOS is close to being linear and they are recommended as being suitable for the of speech degraded by transmission in real network environments such bit errors and frame Both metrics are distance measures , i.e. , a value of 0 implies perfect quality , the larger the value , the worse the speech quality is in Fig. 5 we show an axis with approximate corresponding MOS values .For all simulations in paper we employed both schemes .As they yielded very similar results though MNB results generally exhibited less variability we only present EMBSD results .Figure 4 shows the components of the measurement setup we will use to evaluate our approach to combined and loss recovery and control .Theshaded boxes show the components in the data path where mechanisms of loss recovery are located .Together with the parameters of the network model section 2.1 and the perceptual model we obtain a measurement setup which allows us to map a specific PCM signal input to a speech quality measure .While using a simple end-to-end loss characterization , we generate a large number of loss patterns by using different seeds for the number generator for the results presented here we used 300 patterns for each simulated condition for a single speech sample .This procedure takes thus into account that the impact of loss on an input signal may not be i.e. , a loss burst within one segment of that signal can have a perceptual impact than loss burst of the size within another segment .By averaging the result of the objective quality measure for several loss patterns , we have a reliable indication for the performance of the operating under a certain network loss condition .We employed a Gilbert model Fig. 3 the network model for the simulations , as we have found that here higher order do not provide much additional information .c e a l m e n tWe first analyze the for PCM flows 64 with and without loss concealment , where the loss concealment repairs isolated losses only speech stationarity can only be assumed for small time intervals .Results shown for the concealment algorithm Similar results obtained with other concealment algorithms .Figure 5 shows the without loss concealment enabled where Gilbert model parameters are varied .The resulting speech quality is insensitive to the loss distribution parameter The results even slightly for an increasing pointing to a significant variability of thereIn Figure 6 the results with loss concealment are depicted .When the correlation low , loss concealment provides a significant performance improvement .The relative improvement increases with increasing loss For higher values the with and without concealment become increasingly similar and show the performance at 0.3 .Figures 5 and 6 respectively also contain a showing the performance under the assumption of random losses Bernouilli model , Thus , considering a given a worst case loss pattern of alternating losses mod 2 mod 2 0 would enable a considerable performance improvement with > 1 : = 3 .As we found by visual inspection that the distributions of the perceptual distortion values for one loss condition seem to approximately follow a normal distribution we employ mean and standard deviation to describe the statistical variability of the measured values .Figure 7 presents the perceptual distortion in the previous figure but also give the standard deviation error bars for the respective loss condition .It shows the increasing variability of the results with increasing loss correlation while the variability does not seem to change much with an increasing amount of loss On one hand this points to some , though weak , sensitivity with regard to heterogeneity i.e. , it matters which area of the speech signal voiced/unvoiced experiences burst loss .On the other hand it shows , that a large number of differentwith concealmentd & ion .For each frame , encoder analyzes the input data and extracts the parameters of the Code Excited Linear Prediction CELP model as linear prediction filter coefficients and excitation vectors .When frame is lost or corrupted , the G. 729 decoder uses the parameters of the previous frame to interpolate those of the lost frame .The line spectral pair coefficients of the last good frame are repeated and the gain coefficients are taken from the previous frame but they are damped to gradually reduce their impact .a frame loss occurs , the decoder can not update its state , resulting in divergence of encoder and decoder state .Thus , errors are not only introduced ing the time period represented by the current frame but also in the following ones .In addition to the impact of the missing codewords , distortion is increased by the missing update of the predictor filter memories for the line tral pairs and the linear prediction synthesis filteroutput quality of the is worse than PCM with loss concealment , demonstrating the compression versus quality tradeoff under packet loss .Interestingly the loss correlation dp parameter has some impact on the speech quality , however , the effect is weak pointing to a certain robustness of the G. 729 codec with regard to the resiliency to consecutive packet losses due to the internal loss concealment .Rosenberg has done a similar experiment showing that the between the original and the concealed signal with increasing loss in terms of mean-squared is significant , however .This demonstrates the importance of perceptual metrics able to include concealment are another representation of the linear prediction coefficients .` Two G. 729 frames are contained in a packet .PCM is a encoding .Therefore the ADU content is only weakly heterogeneous Figure 7 .Thus , in section concentrate on the G. 729 The experiment we carry out is to the resynchronization time of the coder after k consecutive frames are lost .The G. 729 decoder is said to have with the encoder when the energy of the error signal falls below one percent of the energy of the decoded signal without frame loss this is equivalent to signal-t-noise ratio SNR threshold of The error signal energy and thus the SNR is computed on a per-frame basis .Figure 9 shows the resynchronization time expressed in the number of frames needed until the threshold is exceeded plotted against the position of the loss i.e. , the index of the first lost frame for values of k .The speech sample is produced by a male speaker where an unvoiced/voiced transition occurs in the eighth frame .We can see from Figure 9 that the position of frame loss has a cm the resulting signal degradation ' , while the degradation is not that sensitive to the length of the frame loss burst k .The loss of unvoiced frames to have a rather small impact on the signal degradation and the decoder recovers the state information fast thereafter .The loss of voiced frames a larger degradation of the speech signal and the decoder needs time to with the sender .However , the loss of voiced frames at an unvoiced/voiced transition leads to a significant degradation of the signal .We have repeated the experiment for different male and female speakers and obtained similar results .into account the wed coding scheme , the above phenomenon could be explained as follows : Because voiced sounds have a higher energy than unvoiced sounds , the loss of voiced frames causes a larger signal degradation than the loss of unvoiced frames .However , due to the riodic property of voiced sounds , the decoder can conceal on one hand we see that SNR often do not correlate well with subjective speech quality , on the other hand the large differences in the SNR-threshold-based resynchronization time clearly point to a significant impact on subjective speech quality .the loss of voiced frames well once it has obtained information on them .The decoder fails to conceal the loss of voiced frames at an unvoiced/voiced transition because it attempts to conceal the loss of voiced frames using the filter coefficients and the excitation for an unvoiced sound .Moreover , because the G. 729 encoder uses a moving average filter to predict the values of the line spectral pairs and only transmits the difference between the real and predicted it takes a lot of time for the decoder to with the encoder once it has failed to build the appropriate linear prediction filter .While have highlighted the sensitivity of traffic to the distribution of loss in the last sections , we now want to briefly introduce a queue management mechanism which is able to enforce the relative preferences of the with regard to loss .We consider flows with packets marked with and 1 '' as described in the introduction `` foreground traffic '' FT and other `` best effort '' flows traffic '' BT .Packet marking , in addition to keeping the desirable property of state within the network core proposed by the IETF Differentiated Services architecture , is exploited here to convey the requirements of a As it should be avoided to introduce reordering of the packets of a flow in the network we consider mechanisms for the management of single queue with different priority levels .One approach to realize inter-flow service differentiation using single queue is RIO ` RED with IN and OUT ' , With RIO , two average queue sizes congestion indicators are computed : one just for the IN high priority packets and another for both IN and OUT low priority packets .Packets marked OUT are dropped earlier in terms of the average queue size than IN packets .RIO has been designed to decrease the seen by particular at the expense of other flows .In this work , however , we want to keep the as given by other parameters while modifying the loss distribution for the foreground traffic This amounts to trading the loss of a packet against a packet of the same flow in a statistical sense .Fig. 10 shows the conventional RED drop probability a function of the average queue size for all arrivals which is applied to all unmarked traffic background traffic : BT .The necessary relationship between the drop probabilities for packets marked as `` -1 '' and can be derived follows note that this relationship is valid both at the end-tend level and every individual hop : Let + be the overall number of emitted packets by an FT flow and a , , be the number of packets belonging to a certain class where the class corresponds to unmarked `` best effort '' Then , with and considering that the resulting service has to be effort in the long term , we have : Due to this relationship between the drop probability for and `` -1 '' we designate this queue management algorithm `` Differential '' Figure 10 shows the corresponding drop probability curves .Due to the condition of in addition to the conventional RED the implementation should also monitor the and -1 arrival processes .If the ratio of to -1 packets at a gateway is not 1 either due to behaving or a significant number of flows which have already experienced loss at earlier hops the -1 loss ability is decreased and the probability is increased at the same time thus degrading the service for all users .The shaded above and below the curve Fig. 10 show the operating area when this correction is added .In it has been shown that using only the conventional RED average queue size for operation is not sufficient .This is due to the potentially missing correlation of the computed value between consecutive and -1 arrivals , especially when the share of the FT is low .As this might result in a unfair distribution of losses between the and BT fractions , value is computed by sampling the queue size only at arrival instants .Thus , a service differentiation for foreground traffic is possible which does not differ from conventional RED in the long term average i.e. , in theConsidering a flow with temporal loss sensitivity , paragraph 3.1.1 has shown that a simple , periodic loss pattern enhances the performance of the end-to-end loss recovery .The pattern is not tied to particular packets , therefore a with the introduced metrics is applicable .In this paragraph we that a flow expressed its temporal sitivity by marking its flow with an alternating pattern ofburst loss length rates as a function of burst length burst , loss length rates as a function of burst length three state run-length-based model two state run-length-based model Gilbert .Figures 11 and 12 show the rates for the actual and the estimated burst loss lengths for a three-state m = 2 and aobserve that shapes the burst probability curve in the desired way .Most of the probability mass is concentrated at , isolated losses the ideal behaviour would be the of only isolated losses = 1 which can be expressed with = 0 in terms of Gilbert model parameters .With Drop Tail an approximately geometrically decreasing burst loss probability with increasing burst length Eq .4 is obtainable , where the parameter is relatively large though .Thus , considering voice with temporal loss sensitivity as the foreground traffic of interest , with a large number of short annoying bursts can be traded against a larger number of isolated losses and few long loss bursts which occur when the queue is under temporary overload , i.e. , > Fig. 10 .We can see that the three-state model estimation Eq .2 reflects the two areas of the operation the sharp drop of the burst loss length rate for = 2 and the decrease along a geometrically decreasing asymptote for > 2 .This effect can not be captured by the two state model Eq .4 which thus overestimates the burst loss length rate for = 2 and then hugely underestimates it for > 2 .Interestingly , for Drop Tail , while both models capture the shape of the actual curve , the lower order model is more accurate in the estimation .This can be explained as follows : if the burst loss length probabilities are in fact close to a geometrical distribution , the estimate is more robust if all data is included note that the run-length based approximation of the conditional loss probability = = m only includes loss run-length larger or equal to m : Eq .1 .only discuss the results qualitatively here to give an example how an intra-flow loss control algorithm performs and to show how loss models can capture this performance .Details on the simulation scenario and parameters can be found inIn paragraph 3.1.2 we have seen that sensitivity to ADU heterogeneity results in a certain non-periodic loss pattern .Thus , a mechanism at or near the sender is necessary which derives that pattern from the voice data .Furthermore , an explicit cooperation between end-to-end and hop by-hop mechanisms is necessary Fig. 4 .We use the result of paragraph 3.2 to develop a new packet marking scheme called Speech Property-Based Selective Differential Packet Marking SPB-DIFFMARK .The MARK scheme concentrates the higher priority packets on the frames essential to the speech signal and relies on the decoder 's concealment for other frames .Figure 13 shows the simple algorithm written in a pseudocode that is used to detect an unvoiced/voiced transition and protect the voiced frames at , the beginning of a voiced signal .The procedure is used to classifyis used to send a block of frames as a single packet with the appropriate priority either or As the core algorithm gives only a binary marking decision protect the packet or not , we employ a simple algorithm to send the necessary `` -1 '' packets for compensation Eq .5 : after a burst of packets has been sent , a corresponding number of `` -1 '' packets is sent immediately .State about the necessary number of to-be-sent `` -1 '' packets is kept in the event that the SPB algorithm triggers the next burst before all `` -1 '' packets necessary for compensation are sent .Thus , seen over time intervals which are long compared to the burst times , the mean loss for the flow will be equal to the `` best effort '' case Eq .5 .is a pre-defined value and defines how many frames at the beginning of a voiced signal are to be protected .Our simulations Fig. 9 have shown that the range from 10 to 20 are appropriate values for depending on the network loss condition .In the simulations presented below , we choose = 2 , a typicalvalue for interactive speech transmissions over the Internet 20ms of audio data per packet .A larger number of would help to reduce the relative overhead of the protocol header but also increases the packetization delay and makes sender classification and receiver concealment in case of packet loss due to a larger loss gap more difficult .simulation description Due to the non-periodic loss pattern , we need to explicitly associate a drop probability with a single packet within an end-to-end model .Therefore we use a separate one-state Markov model Bernouilli model to describe the network behaviour as seen by each class of packets .`` Best effort '' packets designated by `` 0 '' in Fig. 14 are dropped with the probability whereas packets marked with and `` -1 '' are dropped with probabilities of and respectively .This is a reasonable assumption ' with regard to the interdependence of the different classes in fact , as it has been shown that Figs. 11 and 12 achieves a fair amount of decorrelation of and -1 packet losses .Nevertheless to include some correlation between the classes we have set = for the subsequent simulations .This should ` The appropriateness of the simple end-to-end modeling used has been investigated in with discrete event simulation using a multi-hop topology and detailed modeling of foreground and background sources .also allow a reasonable evaluation of how losses in the class affect the performance of the SPB-algorithms .For a direct comparison with SPB-DIFFMARK , we evaluate a scheme where packets are alternatingly marked as being either `` -1 '' or ALT-DIFFMARK , Figure 14 .We furthermore include related inter-flow loss protection schemes .The first scheme uses full protection FULL MARK , all packets are marked as The SPB-MARK scheme operates similarly to SPB-DIFFMARK , but no `` -1 '' packets are sent for compensation those packets are also marked as For comparison we again use a scheme where packets are alternatingly marked as being either `` 0 '' or ALT-MARK .Finally , packets of pure `` best effort '' flows are dropped with the probability NO MARK case in Fig. 14 .For the SPB marking schemes the percentage of and `` l '' marked packets respectively is 40.4 % for the speech material used .We obtained similar marking percentages for other speech samples .The ALT marking schemes mark exactly 50 % of their packets as beingFigure 15 shows the perceptual distortion for the marking schemes dependent on the drop probability pc .The unprotected case `` NO MARK '' has the highest perceptual distortion and thus the worst speech quality * .The differential marking scheme SPB-DIFFMARK offers a significantly better speech quality even when only using a network service which amounts to `` best effort '' in the long term .Note that the ALT-DIFFMARK marking strategy does not differ from the `` best effort '' case which confirms the result of paragraph 3.1.2 .SPB-DIFFMARK is also even better than the inter-flow ALT-MARK scheme , especially for higher values of These results validate the strategy of our SPB marking schemes that do not equally mark all packets with a higher priority but rather protect a subset of frames that are essential to the speech quality .The SPB-FEC scheme have also performed informal listening tests which confirmed the results using the objective metrics .which uses piggybacked on the main payload packets RFC 2198 , to protect a subset of the packets , enables a very good output speech quality for low loss rates .However , it should be noted that the amount of data sent over the network is increased by 40.4 % .Note that the simulation presumes that this additionally consumed bandwidth itself does not contribute significantly to congestion .This assumption is only valid if a small fraction of is voice The SPB-FEC curve is convex with increasing as due to the increasing loss correlation an increasing number of consecutive packets carrying redundancy are lost leading to unrecoverable losses .The curve for SPB-DIFFMARK is concave , however , yielding better performance for 0.22 .The inter-flow ALT-MARK scheme 50 % of the packets are marked enhances the perceptual quality .However , the auditory distance and the perceptual distortion of the SPB-MARK scheme with 40.4 % of all packets marked is significantly lower and very close to the quality of the decoded signal when all packets are marked FULL MARK .This also shows that by protecting the entire flow only a minor improvement in the perceptual quality is obtained .The results for the FULL MARK scheme also show that , while the loss of some of the packets has some measurable impact , the impact on perceptual quality can still be considered to be very low .based codec PCM and a frame-based codec G. 729 in the presence of packet loss .We have then developed loss recovery and control mechanisms to increase the perceptual quality .While we have tested other codecs only informally , we think that our results reflect the fundamental difference between codecs which either encode the speech also used the G. 729 encoder for the redundant source coding .form directly or which are based on linear prediction .For PCM without loss concealment we have found that it neither exhibits significant temporal sensitivity nor sensitivity to payload heterogeneity .With loss concealment , however , the speech quality is increased but the amount of increase exhibits strong temporal sensitivity .Frame-based codecs amplify on one hand the impact of loss by error propagation , though on the other hand such coding schemes help to perform loss concealment by extrapolation of decoder state .Contrary to sample-based codecs we have shown that the concealment performance of the G. 729 decoder may `` break '' at transitions within the speech signal however , thus showing strong sensitivity to payload heterogeneity .We have briefly introduced a queue management algorithm which is able to control loss patterns without changing the amount of loss and characterized its performance for the loss control of a flow exhibiting temporal sensitivity .Then we developed a new packet marking scheme called Speech Property-Based Selective Differential Packet Marking for an efficient protection of frame-based codecs .The DIFFMARK scheme concentrates the higher priority packets on the frames essential to the speech signal and relies on the decoder 's concealment for other frames .We have also evaluated the mapping of an end-to-end algorithm to flow protection .We have found that the selective marking scheme performs almost as good as the protection of the entire flow at a significantly lower number of necessary priority packets .Thus , combined intra-flow end-to-end schemes seem to be well-suited for heavily-loaded networks with a relatively large fraction of voice traffic .This is the case because they neither need the addition of redundancy nor feedback which would incur additional data and delay overhead and thus yield stable voice quality also for higher loss rates due to absence of FEC and feedback loss .Such schemes can better codecs with output bitrates , which are difficult to integrate into FEC schemes requiring adaptivity of both the codec and the redundancy generator .Also , it is useful for adaptive codecs running at the lowest possible Avoiding redundancy and feedback is also interesting in multicast conferencing scenarios where the end-to-end loss characteristics of the different paths leading to members of the session are largely different .Our work has clearly focused on linking simple end-to-end models which can be easily parametrized with the known characteristic of by-hop loss control to user-level metrics .An analysis of a large scale deployment of non-adaptive or adaptive FEC as compared to a deployment of our combined scheme requires clearly further study .We would like to thank Yang and Robert Yantorno , Temple University , for providing the EMBSD software for the objective speech quality measurements .Michael der , GMD Fokus , helped with the simulations of the queue management schemes .H. Sanneck and G. Carle .A queue management algorithm for service differentiation in the `` best effort '' Internet .In Proceedings of the Eighth Conference on Computer Communications and Networks ICCCN , pages 419426 , Natick , MA , October 1999 .M. Yajnik , J. Kurose , and D. Towsley .Packet loss correlation in the multicast network : Experimental measurements and markov chain models .Technical Report 95-115 , Department of Computer Science , University of Massachusetts , Amherst , 1995 .M. Yajnik , S. Moon , J. Kurose , and D. Towsley .Measurement and modelling of the temporal dependence in packet loss .Technical Report 98-78 , Department of Computer Science , University of Massachusetts , Amherst , 1998 .W. Yang and R. Yantorno .Improvement of MBSD scaling noise masking threshold and correlation analysis with MOS difference instead of MOS .In Proceedings ICASSP , pages 673-676 , Phoenix , AZ , March 1999 .", "author_keywords_stem": ["voic over ip", "loss sensit", "loss conceal", "loss metric", "object speech qualiti measur", "queue manag", "differenti servic"]}